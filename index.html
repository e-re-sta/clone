<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OrangeWeb</title>
<style>
  body { font-family: Arial, sans-serif; background-color: #fff7e6; margin:0; padding:0; text-align:center;}
  header { padding: 10px; background-color: orange; color: white; display:flex; justify-content:space-between; align-items:center; }
  header button { padding:5px 15px; font-size:14px; cursor:pointer; border:none; border-radius:4px;}
  h1 { margin: 20px 0 10px 0; }
  p { margin: 0 0 20px 0; }
  .game-buttons { display:grid; grid-template-columns:repeat(4,1fr); gap:15px; max-width:800px; margin:0 auto 40px auto; }
  .game-buttons button { padding:20px; font-size:16px; cursor:pointer; border:none; border-radius:8px; background-color:orange; color:white; transition:0.3s; }
  .game-buttons button:hover { background-color:darkorange; }
  .game-placeholder { display:none; position:relative; padding:50px; font-size:24px; background-color:#ffe0b2; min-height:300px; }
  .back-button { position:absolute; bottom:10px; left:10px; padding:10px 15px; font-size:14px; cursor:pointer; border:none; border-radius:4px; background-color:orange; color:white; }
  .pay-buttons { margin-top:20px; }
  .pay-buttons button { margin:5px; padding:10px 20px; font-size:14px; cursor:pointer; border-radius:4px; border:none; background-color:#f57c00; color:white; }
</style>
</head>
<body>

<header>
  <div>OrangeWeb</div>
  <button onclick="location.reload()">Reload</button>
</header>

<h1>OrangeWeb – Your Gaming World, Directly in the Browser</h1>
<p>Discover 12 exciting games you can play instantly – no installation required. Pay securely with Ethereum (MetaMask) or Solana (Sollet) and start your adventure right away. At OrangeWeb, you choose which games to experience – anonymous and secure.</p>

<div class="game-buttons">
  <button onclick="playGame(1)">Game 1</button>
  <button onclick="playGame(2)">Game 2</button>
  <button onclick="playGame(3)">Game 3</button>
  <button onclick="playGame(4)">Game 4</button>
  <button onclick="playGame(5)">Game 5</button>
  <button onclick="playGame(6)">Game 6</button>
  <button onclick="playGame(7)">Game 7</button>
  <button onclick="playGame(8)">Game 8</button>
  <button onclick="playGame(9)">Game 9</button>
  <button onclick="playGame(10)">Game 10</button>
  <button onclick="playGame(11)">Game 11</button>
  <button onclick="playGame(12)">Game 12</button>
</div>

<div id="gameContainer" class="game-placeholder">
  <div id="gameContent"></div>
  <div class="pay-buttons">
    <button onclick="payEth()">Zahle ETH</button>
    <button onclick="paySol()">Zahle SOL</button>
  </div>
  <button class="back-button" onclick="backToMain()">Back</button>
</div>

<script>
function startGame1() {
  gameContent.innerHTML = '';
  const canvas = document.createElement('canvas');
  canvas.id = 'game1Canvas';
  canvas.width = 800;
  canvas.height = 500;
  canvas.style.backgroundColor = '#87CEEB';
  gameContent.appendChild(canvas);
  const ctx = canvas.getContext('2d');

  // Spieler
  const player = { x:100, y:250, width:40, height:30, color:'orange' };

  // Gegner
  const geese = [];
  const bullets = [];
  const planes = [];

  // Wetter
  const particles = [];

  // Touch-Steuerung
  let touchY = player.y;
  canvas.addEventListener('touchstart', e => {
    e.preventDefault();
    touchY = e.touches[0].clientY - canvas.getBoundingClientRect().top;
    player.y = touchY - player.height/2;
  });
  canvas.addEventListener('touchmove', e => {
    e.preventDefault();
    touchY = e.touches[0].clientY - canvas.getBoundingClientRect().top;
    player.y = touchY - player.height/2;
    if(player.y < 0) player.y = 0;
    if(player.y + player.height > canvas.height) player.y = canvas.height - player.height;
  });

  // Maus als Touch-Simulation (Desktop)
  canvas.addEventListener('mousemove', e => {
    const mouseY = e.clientY - canvas.getBoundingClientRect().top;
    player.y = mouseY - player.height/2;
    if(player.y < 0) player.y = 0;
    if(player.y + player.height > canvas.height) player.y = canvas.height - player.height;
  });

  function spawnGeese() {
    if(Math.random()<0.01){
      geese.push({ x:800, y:Math.random()*400, width:50, height:40, color:'gray', cooldown:100 });
    }
  }

  function spawnPlanes() {
    if(Math.random()<0.005){
      planes.push({ x:800, y:Math.random()*200+50, width:80, height:40, color:'black', speed:2 });
    }
  }

  function spawnWeather() {
    if(Math.random()<0.05){
      particles.push({ x:Math.random()*800, y:0, speed:Math.random()*3+1, type:'snow' });
    }
    if(Math.random()<0.02){
      particles.push({ x:Math.random()*800, y:0, speed:Math.random()*5+2, type:'rain' });
    }
    if(Math.random()<0.001){
      particles.push({ x:Math.random()*800, y:Math.random()*200, type:'lightning', life:10 });
    }
  }

  function update() {
    geese.forEach((g,i)=>{
      g.x -=2;
      g.cooldown--;
      if(g.cooldown<=0){
        bullets.push({ x:g.x, y:g.y+20, speed:5, color:'black' });
        g.cooldown=100;
      }
      if(g.x+g.width<0) geese.splice(i,1);
    });

    bullets.forEach((b,i)=>{
      b.x -= b.speed;
      if(b.x<player.x+player.width && b.x+5>player.x && b.y>player.y && b.y<player.y+player.height){
        alert("Du wurdest getroffen! Spiel endet.");
        backToMain();
      }
      if(b.x<0) bullets.splice(i,1);
    });

    planes.forEach((p,i)=>{
      p.x -= p.speed;
      if(p.x+p.width<0) planes.splice(i,1);
      if(player.x+player.width>p.x && player.x<p.x+p.width && player.y+player.height>p.y && player.y<p.y+p.height){
        alert("Du wurdest von einem Flugzeug getroffen! Spiel endet.");
        backToMain();
      }
    });

    particles.forEach((p,i)=>{
      if(p.type==='snow' || p.type==='rain') p.y+=p.speed;
      if(p.type==='lightning') p.life--;
      if(p.y>canvas.height || p.life<=0) particles.splice(i,1);
    });

    spawnGeese();
    spawnPlanes();
    spawnWeather();
  }

  function draw() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    // Spieler
    ctx.fillStyle=player.color;
    ctx.fillRect(player.x,player.y,player.width,player.height);

    // Gänse
    geese.forEach(g=>{ ctx.fillStyle=g.color; ctx.fillRect(g.x,g.y,g.width,g.height); });

    // Flugzeuge
    planes.forEach(p=>{ ctx.fillStyle=p.color; ctx.fillRect(p.x,p.y,p.width,p.height); });

    // Kugeln
    bullets.forEach(b=>{ ctx.fillStyle=b.color; ctx.fillRect(b.x,b.y,5,5); });

    // Wetter
    particles.forEach(p=>{
      if(p.type==='snow'){ ctx.fillStyle='white'; ctx.fillRect(p.x,p.y,4,4); }
      else if(p.type==='rain'){ ctx.fillStyle='blue'; ctx.fillRect(p.x,p.y,2,8); }
      else if(p.type==='lightning'){ ctx.strokeStyle='yellow'; ctx.beginPath(); ctx.moveTo(p.x,p.y); ctx.lineTo(p.x+5,p.y+20); ctx.stroke(); }
    });
  }

  function gameLoop() {
    update();
    draw();
    requestAnimationFrame(gameLoop);
  }

  gameLoop();
} {
  gameContent.innerHTML = '';
  const canvas = document.createElement('canvas');
  canvas.id = 'game1Canvas';
  canvas.width = 800;
  canvas.height = 500;
  canvas.style.backgroundColor = '#87CEEB';
  gameContent.appendChild(canvas);
  const ctx = canvas.getContext('2d');

  // Spieler
  const player = { x:100, y:250, width:40, height:30, color:'orange', shield:0, speed:4 };
  let score = 0;
  let onGround = false;

  // Gegner und Projektile
  const geese = [];
  const bullets = [];
  const planes = [];
  const shots = [];
  const powerups = [];

  // Wetterpartikel
  const particles = [];

  const groundY = canvas.height - 50;

  // Touch / Maus Steuerung
  canvas.addEventListener('touchstart', e=>{e.preventDefault(); movePlayer(e.touches[0].clientY); });
  canvas.addEventListener('touchmove', e=>{e.preventDefault(); movePlayer(e.touches[0].clientY); });
  canvas.addEventListener('mousemove', e=>movePlayer(e.clientY));

  function movePlayer(clientY){
    const y = clientY - canvas.getBoundingClientRect().top - player.height/2;
    player.y = Math.max(0, Math.min(canvas.height - player.height, y));
  }

  // Feuer
  let shootCooldown=0;
  canvas.addEventListener('click', shoot);
  canvas.addEventListener('touchend', shoot);
  function shoot(){
    if(shootCooldown<=0){
      shots.push({x:player.x+player.width, y:player.y+player.height/2-2, width:10, height:4, speed:8});
      shootCooldown=20;
    }
  }

  function spawnGeese(){
    if(Math.random()<0.01){
      geese.push({ x:800, y:Math.random()*400, width:50, height:40, color:'gray', cooldown:100 });
    }
  }

  function spawnPlanes(){
    if(Math.random()<0.005){
      planes.push({ x:800, y:Math.random()*200+50, width:80, height:40, color:'black', speed:2 });
    }
  }

  function spawnPowerups(){
    if(Math.random()<0.002){
      const type = Math.random()<0.5?'shield':'speed';
      powerups.push({ x:800, y:Math.random()*400, width:20, height:20, type, speed:2 });
    }
  }

  function spawnWeather(){
    if(Math.random()<0.05) particles.push({ x:Math.random()*800, y:0, speed:Math.random()*3+1, type:'snow' });
    if(Math.random()<0.02) particles.push({ x:Math.random()*800, y:0, speed:Math.random()*5+2, type:'rain' });
    if(Math.random()<0.001) particles.push({ x:Math.random()*800, y:Math.random()*200, type:'lightning', life:10 });
  }

  function update(){
    if(shootCooldown>0) shootCooldown--;

    // Landung prüfen
    if(player.y + player.height >= groundY){
      player.y = groundY - player.height;
      onGround = true;
      score += 1; // Punkte für Landung
    } else {
      onGround = false;
    }

    // Gegner & Gefahren nur in der Luft aktiv
    if(!onGround){
      geese.forEach((g,i)=>{
        g.x -=2; g.cooldown--;
        if(g.cooldown<=0){ bullets.push({ x:g.x, y:g.y+20, speed:5 }); g.cooldown=100; }
        if(g.x+g.width<0) geese.splice(i,1);
      });

      bullets.forEach((b,i)=>{
        b.x -= b.speed;
        if(collide(player,b)){ if(player.shield>0){player.shield--; bullets.splice(i,1);} else{ alert("Getroffen! Spiel endet."); backToMain();} }
        if(b.x<0) bullets.splice(i,1);
      });

      planes.forEach((p,i)=>{
        p.x -= p.speed;
        if(collide(player,p)){ if(player.shield>0){player.shield--; planes.splice(i,1);} else{ alert("Getroffen! Spiel endet."); backToMain();} }
        if(p.x+p.width<0) planes.splice(i,1);
      });
    }

    // Spieler-Schüsse
    shots.forEach((s,i)=>{
      s.x += s.speed;
      geese.forEach((g,gi)=>{ if(collide(s,g)){ geese.splice(gi,1); shots.splice(i,1); score+=10; } });
      planes.forEach((p,pi)=>{ if(collide(s,p)){ planes.splice(pi,1); shots.splice(i,1); score+=20; } });
      if(s.x>canvas.width) shots.splice(i,1);
    });

    // Powerups
    powerups.forEach((p,i)=>{
      p.x -= p.speed;
      if(collide(player,p)){
        if(p.type==='shield') player.shield+=3;
        if(p.type==='speed'){ player.speed=8; setTimeout(()=>{player.speed=4;},5000); }
        powerups.splice(i,1);
      }
      if(p.x+p.width<0) powerups.splice(i,1);
    });

    // Wetter
    particles.forEach((p,i)=>{
      if(p.type==='snow' || p.type==='rain') p.y+=p.speed;
      if(p.type==='lightning') p.life--;
      if(p.y>canvas.height || p.life<=0) particles.splice(i,1);
    });

    // Spawns
    spawnGeese(); spawnPlanes(); spawnWeather(); spawnPowerups();

    // Score für Überleben
    score +=0.05;
  }

  function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // Himmel & Boden
    ctx.fillStyle='#87CEEB';
    ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle='#228B22';
    ctx.fillRect(0,groundY,canvas.width,canvas.height-groundY);

    // Spieler
    ctx.fillStyle=player.color;
    ctx.fillRect(player.x,player.y,player.width,player.height);

    // Gegner
    geese.forEach(g=>{ ctx.fillStyle=g.color; ctx.fillRect(g.x,g.y,g.width,g.height); });
    planes.forEach(p=>{ ctx.fillStyle=p.color; ctx.fillRect(p.x,p.y,p.width,p.height); });
    bullets.forEach(b=>{ ctx.fillStyle='black'; ctx.fillRect(b.x,b.y,5,5); });
    shots.forEach(s=>{ ctx.fillStyle='red'; ctx.fillRect(s.x,s.y,s.width,s.height); });

    // Powerups
    powerups.forEach(p=>{
      ctx.fillStyle=p.type==='shield'?'cyan':'yellow';
      ctx.fillRect(p.x,p.y,p.width,p.height);
    });

    // Wetter
    particles.forEach(p=>{
      if(p.type==='snow'){ ctx.fillStyle='white'; ctx.fillRect(p.x,p.y,4,4); }
      else if(p.type==='rain'){ ctx.fillStyle='blue'; ctx.fillRect(p.x,p.y,2,8); }
      else if(p.type==='lightning'){ ctx.strokeStyle='yellow'; ctx.beginPath(); ctx.moveTo(p.x,p.y); ctx.lineTo(p.x+5,p.y+20); ctx.stroke(); }
    });

    // Score & Shield
    ctx.fillStyle='black';
    ctx.font='20px Arial';
    ctx.fillText('Score: '+Math.floor(score),10,30);
    ctx.fillText('Shield: '+player.shield,10,60);
    ctx.fillText(onGround?'On Ground':'In Air',10,90);
  }

  function gameLoop(){ update(); draw(); requestAnimationFrame(gameLoop); }

  function collide(a,b){ return a.x<a.x+a.width && b.x<b.x+b.width && a.y<a.y+a.height && b.y<b.y+b.height; }

  gameLoop();
}
 const gameContainer = document.getElementById('gameContainer');
  const gameContent = document.getElementById('gameContent');
  const gameButtonsDiv = document.querySelector('.game-buttons');

  // Testmodus: Zahlungen immer erfolgreich
  async function payEth() { alert("Testmodus: ETH-Zahlung simuliert!"); return true; }
  async function paySol() { alert("Testmodus: SOL-Zahlung simuliert!"); return true; }

  function playGame(num) {
    gameButtonsDiv.style.display = 'none';
    gameContainer.style.display = 'block';
    gameContent.innerHTML = '';

    if(num === 1) {
      // Game 1: Zahlungsbuttons bleiben sichtbar
      const message = document.createElement('p');
      message.textContent = "Bitte zahle ETH oder SOL, um Game 1 zu starten (Testmodus)!";
      gameContent.appendChild(message);

      const ethBtn = document.createElement('button');
      ethBtn.textContent = "Zahle ETH";
      ethBtn.onclick = async () => { const success = await payEth(); if(success) startGame1(); };

      const solBtn = document.createElement('button');
      solBtn.textContent = "Zahle SOL";
      solBtn.onclick = async () => { const success = await paySol(); if(success) startGame1(); };

      gameContent.appendChild(ethBtn);
      gameContent.appendChild(solBtn);
    } else {
      gameContent.textContent = `Spiel ${num} Platzhalter`;
    }
  }

  function startGame1() {
    gameContent.innerHTML = ''; // Buttons entfernen
    const canvas = document.createElement('canvas');
    canvas.id = 'game1Canvas';
    canvas.width = 600;
    canvas.height = 400;
    canvas.style.backgroundColor = '#ffcc80';
    gameContent.appendChild(canvas);

    const ctx = canvas.getContext("2d");
    let x=50, y=200, dx=3, radius=30;

    function animate() {
      ctx.clearRect(0,0,canvas.width,canvas.height);
      ctx.beginPath();
      ctx.arc(x,y,radius,0,Math.PI*2);
      ctx.fillStyle="orange";
      ctx.fill();
      ctx.closePath();
      x += dx;
      if(x+radius>canvas.width || x-radius<0) dx=-dx;
      requestAnimationFrame(animate);
    }
    animate();
  }

  function backToMain() {
    gameContainer.style.display='none';
    gameButtonsDiv.style.display='grid';
  }
</script>

</body>
</html>
