<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OrangeWeb – Game Portal</title>
<style>
/* ===== Global Styles ===== */
* {box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI',sans-serif;}
body {background:#0f0f17;color:#fff;display:flex;flex-direction:column;min-height:100vh;}
header {background:linear-gradient(90deg,#ff7a00,#ffaa33);padding:25px;text-align:center;font-size:2em;font-weight:bold;letter-spacing:1px;box-shadow:0 4px 10px rgba(0,0,0,0.5);}
.description {text-align:center;margin:20px;font-size:1.2em;color:#ddd;}
.button-grid {display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:20px;padding:20px;width:95%;margin:0 auto;}
.gameBtn {background:#1a1a2e;border:2px solid #ff7a00;color:#ff7a00;font-size:1.1em;padding:20px;border-radius:12px;cursor:pointer;font-weight:bold;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:all 0.3s;overflow:hidden;}
.gameBtn:hover {background:#ff7a00;color:#000;transform:scale(1.05);}
.gameBtn small {font-size:0.8em;margin-top:5px;color:#ddd;}
.game-container {display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:#111;z-index:9999;flex-direction:column;justify-content:center;align-items:center;}
canvas {width:95vw;height:500px;background:#111;border:3px solid #ff7a00;border-radius:12px;}
.backBtn {margin-top:15px;padding:12px 25px;background:#ff7a00;border:none;border-radius:10px;font-weight:bold;font-size:1em;cursor:pointer;color:#000;transition:0.3s;}
.backBtn:hover {background:#ffaa33;}
</style>
</head>
<body>

<header>OrangeWeb – Ultimate Game Portal</header>
<div class="description">12 exciting games directly in your browser. Click any game to start!</div>

<!-- ===== 12 Game Buttons ===== -->
<div class="button-grid">
  <button class="gameBtn" onclick="openGame('game1')">Game 1<br><small>Agent Bird</small></button>
  <button class="gameBtn" onclick="openGame('game2')">Game 2<br><small>Cyber Runner</small></button>
  <button class="gameBtn" onclick="openGame('game3')">Game 3<br><small>Coming Soon</small></button>
  <button class="gameBtn" onclick="openGame('game4')">Game 4<br><small>Coming Soon</small></button>
  <button class="gameBtn" onclick="openGame('game5')">Game 5<br><small>Coming Soon</small></button>
  <button class="gameBtn" onclick="openGame('game6')">Game 6<br><small>Coming Soon</small></button>
  <button class="gameBtn" onclick="openGame('game7')">Game 7<br><small>Coming Soon</small></button>
  <button class="gameBtn" onclick="openGame('game8')">Game 8<br><small>Coming Soon</small></button>
  <button class="gameBtn" onclick="openGame('game9')">Game 9<br><small>Coming Soon</small></button>
  <button class="gameBtn" onclick="openGame('game10')">Game 10<br><small>Coming Soon</small></button>
  <button class="gameBtn" onclick="openGame('game11')">Game 11<br><small>Coming Soon</small></button>
  <button class="gameBtn" onclick="openGame('game12')">Game 12<br><small>Coming Soon</small></button>
</div>

<!-- ===== Game Containers Placeholders ===== -->
<div id="game1" class="game-container"><canvas id="game1Canvas"></canvas><button class="backBtn" onclick="closeGame('game1')">Back to OrangeWeb</button></div>
<div id="game2" class="game-container"><canvas id="game2Canvas"></canvas><button class="backBtn" onclick="closeGame('game2')">Back to OrangeWeb</button></div>
<div id="game3" class="game-container"><canvas id="game3Canvas"></canvas><button class="backBtn" onclick="closeGame('game3')">Back to OrangeWeb</button></div>
<div id="game4" class="game-container"><canvas id="game4Canvas"></canvas><button class="backBtn" onclick="closeGame('game4')">Back to OrangeWeb</button></div>
<div id="game5" class="game-container"><canvas id="game5Canvas"></canvas><button class="backBtn" onclick="closeGame('game5')">Back to OrangeWeb</button></div>
<div id="game6" class="game-container"><canvas id="game6Canvas"></canvas><button class="backBtn" onclick="closeGame('game6')">Back to OrangeWeb</button></div>
<div id="game7" class="game-container"><canvas id="game7Canvas"></canvas><button class="backBtn" onclick="closeGame('game7')">Back to OrangeWeb</button></div>
<div id="game8" class="game-container"><canvas id="game8Canvas"></canvas><button class="backBtn" onclick="closeGame('game8')">Back to OrangeWeb</button></div>
<div id="game9" class="game-container"><canvas id="game9Canvas"></canvas><button class="backBtn" onclick="closeGame('game9')">Back to OrangeWeb</button></div>
<div id="game10" class="game-container"><canvas id="game10Canvas"></canvas><button class="backBtn" onclick="closeGame('game10')">Back to OrangeWeb</button></div>
<div id="game11" class="game-container"><canvas id="game11Canvas"></canvas><button class="backBtn" onclick="closeGame('game11')">Back to OrangeWeb</button></div>
<div id="game12" class="game-container"><canvas id="game12Canvas"></canvas><button class="backBtn" onclick="closeGame('game12')">Back to OrangeWeb</button></div>

<!-- ===== PAYMENT & GAME MANAGEMENT ===== -->
<script src="https://cdn.jsdelivr.net/npm/web3/dist/web3.min.js"></script>
<script src="https://unpkg.com/@solana/web3.js@1.73.0/lib/index.iife.js"></script>
<script>
// ===== CONFIG =====
const CONFIG = {
  PAYMENT_ENABLED:true,
  ETH_ADDRESS:"YOUR_ETH_ADDRESS_HERE",
  SOL_ADDRESS:"YOUR_SOL_ADDRESS_HERE",
  ETH_AMOUNT:0.0001,
  SOL_AMOUNT:0.0005
};

// ===== OPEN / CLOSE GAME =====
function openGame(id){
  document.querySelectorAll('.game-container').forEach(c=>c.style.display='none');
  document.getElementById(id).style.display='flex';
  // Call paywall for games that require payment here
  // Example: if(id==='game2') startGame2();
}
function closeGame(id){
  document.getElementById(id).style.display='none';
}

// ===== ETH PAYMENT =====
async function payETH(amountETH){
  if(!window.ethereum){ alert("MetaMask not found"); return false; }
  const web3 = new Web3(window.ethereum);
  try{
    await window.ethereum.request({method:'eth_requestAccounts'});
    const accounts = await web3.eth.getAccounts();
    await web3.eth.sendTransaction({
      from: accounts[0],
      to: CONFIG.ETH_ADDRESS,
      value: web3.utils.toWei(amountETH.toString(),'ether')
    });
    alert("ETH Payment Successful!");
    return true;
  } catch(e){ console.error(e); alert("ETH Payment Failed!"); return false; }
}

// ===== SOL PAYMENT =====
async function paySOL(amountSOL){
  if(!window.solana){ alert("Solana wallet not found"); return false; }
  try{
    await window.solana.connect();
    const connection = new solanaWeb3.Connection(solanaWeb3.clusterApiUrl('mainnet-beta'));
    const fromPubkey = window.solana.publicKey;
    const toPubkey = new solanaWeb3.PublicKey(CONFIG.SOL_ADDRESS);
    const transaction = new solanaWeb3.Transaction().add(
      solanaWeb3.SystemProgram.transfer({fromPubkey,toPubkey,lamports:amountSOL*solanaWeb3.LAMPORTS_PER_SOL})
    );
    const {signature} = await window.solana.signAndSendTransaction(transaction);
    await connection.confirmTransaction(signature);
    alert("SOL Payment Successful!");
    return true;
  } catch(e){ console.error(e); alert("SOL Payment Failed!"); return false; }
}

// ===== GENERIC PAYMENT CALL =====
async function pay(game){
  if(!CONFIG.PAYMENT_ENABLED) return true;
  const choice = confirm("Pay with ETH? Cancel for SOL");
  if(choice) return await payETH(CONFIG.ETH_AMOUNT);
  else return await paySOL(CONFIG.SOL_AMOUNT);
}

// ===== API PLACEHOLDER =====
async function callBackendAPI(endpoint,data){
  // Example: POST request to your backend
  // return await fetch(endpoint,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});
  console.log("API call:",endpoint,data);
}

// ===== GAME 1: AGENT BIRD =====
const canvas1 = document.getElementById('game1Canvas');
const ctx1 = canvas1.getContext('2d');
canvas1.width = canvas1.clientWidth;
canvas1.height = canvas1.clientHeight;

let game1Running = false;
let bird = {x:50, y:canvas1.height/2, w:40, h:40, speed:5};
let bullets = [], enemies = [], lives = 3, lastSpawn = 0;
let gameZoom = 1.5; // zoomed-out effect

// START GAME
function startGame1(){
  game1Running = true;
  bullets = [];
  enemies = [];
  lives = 3;
  lastSpawn = 0;
  gameZoom = 1.5; // zoomed out at start
  requestAnimationFrame(loopGame1);
}

// SPAWN ENEMIES
function spawnEnemy1(){
  enemies.push({x:canvas1.width, y:Math.random()*(canvas1.height-40), w:40, h:40, speed:2+Math.random()*2});
}

// SHOOT BULLETS
function shoot1(){ bullets.push({x:bird.x+bird.w,y:bird.y+bird.h/2,w:10,h:5,speed:8}); }

// MAIN LOOP
function loopGame1(t){
  if(!game1Running) return;
  ctx1.save();
  ctx1.scale(1/gameZoom,1/gameZoom); // zoomed out
  ctx1.clearRect(0,0,canvas1.width*gameZoom,canvas1.height*gameZoom);

  // Spawn enemies
  if(t-lastSpawn>1000){ spawnEnemy1(); lastSpawn=t; }

  // Draw bird
  ctx1.fillStyle = 'cyan';
  ctx1.fillRect(bird.x,bird.y,bird.w,bird.h);

  // Draw bullets
  bullets = bullets.filter(b=>b.x<canvas1.width*gameZoom);
  bullets.forEach(b=>{b.x+=b.speed; ctx1.fillStyle='lime'; ctx1.fillRect(b.x,b.y,b.w,b.h);});

  // Draw enemies
  enemies = enemies.filter(e=>e.x+e.w>0);
  enemies.forEach(e=>{
    e.x -= e.speed;
    ctx1.fillStyle='red';
    ctx1.fillRect(e.x,e.y,e.w,e.h);
    // Collision
    if(e.x<bird.x+bird.w && e.x+e.w>bird.x && e.y<bird.y+bird.h && e.y+e.h>bird.y){
      lives--;
      e.x=-100;
      if(lives<=0){
        game1Running=false;
        alert("Game Over!");
      }
    }
  });

  // Bullet hits enemy
  for(let i=enemies.length-1;i>=0;i--){
    for(let j=bullets.length-1;j>=0;j--){
      let e=enemies[i], b=bullets[j];
      if(b.x<b.x+e.w && b.x+b.w>e.x && b.y<b.y+e.h && b.y+b.h>e.y){
        enemies.splice(i,1); bullets.splice(j,1); break;
      }
    }
  }

  // Draw lives
  ctx1.fillStyle='white';
  ctx1.font='20px Arial';
  ctx1.fillText("Lives: "+lives,10,30);

  ctx1.restore();
  requestAnimationFrame(loopGame1);
}

// CONTROLS
document.addEventListener('mousemove', e=>{
  if(!game1Running) return;
  let r = canvas1.getBoundingClientRect();
  bird.y = e.clientY - r.top - bird.h/2;
});
document.addEventListener('touchmove', e=>{
  if(!game1Running) return;
  let r = canvas1.getBoundingClientRect();
  bird.y = e.touches[0].clientY - r.top - bird.h/2;
});
document.addEventListener('click', ()=>{ if(game1Running) shoot1(); });
document.addEventListener('touchstart', ()=>{ if(game1Running) shoot1(); });

// OPEN GAME1 FROM BUTTON
function openGame1(){
  document.querySelectorAll('.game-container').forEach(c=>c.style.display='none');
  document.getElementById('game1').style.display='flex';
  startGame1();
}

// BACK BUTTON HANDLER
function closeGame1(){
  document.getElementById('game1').style.display='none';
  game1Running=false;
}
</script>
</body>
</html>
